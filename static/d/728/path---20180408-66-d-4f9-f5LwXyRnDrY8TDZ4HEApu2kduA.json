{"data":{"site":{"siteMetadata":{"title":"Jon's Blog","author":""}},"markdownRemark":{"id":"af74f5f2-2bf2-57a8-8d54-f05c7bd07776","excerpt":"安装过程中按照提示设置root用户密码himysql 目前从apt安装的mysql版本为:  然后shell输入 输入刚设置的密码,设置密码验证策略的等级,自动对已设置的密码进行评估,提示是否重设密码,剩余选项全y加enter即可. 从Debian distribution安装将自动初始化MySQL data…","html":"<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">sudo apt install mysql-server</code></pre></div>\n<p>安装过程中按照提示设置root用户密码himysql</p>\n<p>目前从apt安装的mysql版本为: </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">forward@forward-Lenovo:~$ mysql --version\nmysql  Ver 14.14 Distrib 5.7.21, for Linux (x86_64) using  EditLine wrapper</code></pre></div>\n<p>然后shell输入</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">mysql_secure_installation </code></pre></div>\n<p>输入刚设置的密码,设置密码验证策略的等级,自动对已设置的密码进行评估,提示是否重设密码,剩余选项全y加enter即可.</p>\n<p>从Debian distribution安装将自动初始化MySQL data directory.</p>\n<p>不用进行其他配置,MySQL已经在自动运行了.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">systemctl status mysql.service</code></pre></div>\n<p>输出的信息中可以看到 Active: active(running),说明正在运行.</p>\n<p>登录,以root身份(-u root),提示输入密码(-p)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">mysql -u root -p</code></pre></div>\n<p>显示此时编码设置</p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">mysql&gt; show variables like &#39;%char%&#39;;\n+--------------------------------------+----------------------------+\n| Variable_name                        | Value                      |\n+--------------------------------------+----------------------------+\n| character_set_client                 | utf8                       |\n| character_set_connection             | utf8                       |\n| character_set_database               | latin1                     |\n| character_set_filesystem             | binary                     |\n| character_set_results                | utf8                       |\n| character_set_server                 | latin1                     |\n| character_set_system                 | utf8                       |\n| character_sets_dir                   | /usr/share/mysql/charsets/ |\n| validate_password_special_char_count | 1                          |\n+--------------------------------------+----------------------------+\n9 rows in set (0.00 sec)</code></pre></div>\n<p>为避免以后可能出现的奇怪问题.将编码全改为utf8</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">cd /etc/mysql/\nsudo vim my.cnf</code></pre></div>\n<p>添加</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[client]\ndefault-character-set = utf8\n\n[mysqld]\ndefault-storage-engine = INNODB\ncharacter-set-server = utf8\ncollation-server = utf8_general_ci</code></pre></div>\n<p>重启MySQL</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">sudo systemctl restart mysql.service</code></pre></div>\n<p>重新登录并查看编码配置:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mysql&gt; show variables like &#39;%char%&#39;;\n+--------------------------------------+----------------------------+\n| Variable_name                        | Value                      |\n+--------------------------------------+----------------------------+\n| character_set_client                 | utf8                       |\n| character_set_connection             | utf8                       |\n| character_set_database               | utf8                       |\n| character_set_filesystem             | binary                     |\n| character_set_results                | utf8                       |\n| character_set_server                 | utf8                       |\n| character_set_system                 | utf8                       |\n| character_sets_dir                   | /usr/share/mysql/charsets/ |\n| validate_password_special_char_count | 1                          |\n+--------------------------------------+----------------------------+\n9 rows in set (0.00 sec)</code></pre></div>\n<p>参考资料:</p>\n<ol>\n<li><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-16-04\">https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-16-04</a></li>\n<li><a href=\"https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/00143450161807565b0c93cb65d4df0a733bf15dc1f8c79000\">https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/00143450161807565b0c93cb65d4df0a733bf15dc1f8c79000</a></li>\n</ol>","frontmatter":{"title":"ubuntu 16.04 安装mysql","date":"April 08, 2018"}}},"pageContext":{"previous":{"fields":{"urlPath":"/20170918"},"frontmatter":{"title":"express学习笔记","publish":true,"tags":["ubuntu","DNS"]}},"next":{"fields":{"urlPath":"/20180412"},"frontmatter":{"title":"mysql添加用户","publish":true,"tags":null}}}}