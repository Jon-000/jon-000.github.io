{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog","author":"Kyle Mathews"}},"markdownRemark":{"id":"f5e03b71-07f8-5f9a-b9bf-1d04737a2057","excerpt":"国内用户上网时普遍采用的默认DNS服务器，即电信运营商的DNS服务器，可被DNS劫持，干扰正常上网，apt无法更新。 临时修改DNS解析服务器地址 sudo vim /etc/resolv.conf\n修改为 配置实时生效，重启失效 永久修改DNS解析服务器地址 sudo vim /etc/resolvconf…","html":"<p>国内用户上网时普遍采用的默认DNS服务器，即电信运营商的DNS服务器，可被DNS劫持，干扰正常上网，apt无法更新。</p>\n<h3>临时修改DNS解析服务器地址</h3>\n<p>sudo vim /etc/resolv.conf\n修改为</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    nameserver 8.8.8.8 #主DNS服务器，此例为goole提供的DNS解析服务器地址\n    nameserver 8.8.8.4 #备用DNS服务器\n    search localhost #你的域名，？此句作用还不明白？</code></pre></div>\n<p>配置实时生效，重启失效</p>\n<h3>永久修改DNS解析服务器地址</h3>\n<p>sudo vim /etc/resolvconf/resolv.conf.d/head\n(网上有提到修改base文件，亲测无法改变resolv.conf文件的内容。)</p>\n<p>添加</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    nameserver 8.8.8.8\n    nameserver 8.8.4.4</code></pre></div>\n<p>更新resolvconf服务</p>\n<p>sudo resolvconf -u\n查看resolv.conf文件内容，检测修改效果\n()[./images/20170830-1.png]</p>\n<p>成功修改后的resolv.conf文件的内容\nExtension\n()[./images/20170830-2.png]\n()[./images/20170830-3.png]\n()[./images/20170830-4.png]\netc文件夹中有两个resolv相关的文件/文件夹  resolvconf文件夹的结构  resolv.conf文件的内容\nresolv.conf文件是依据resolvconf文件夹中的文件生成的。</p>\n<p>更多信息可参阅man resolvconf</p>","frontmatter":{"title":"linux系统临时或永久修改DNS服务器","date":"August 30, 2017"}}},"pageContext":{"slug":"/20170830-linux修改DNS服务器设置/","previous":{"fields":{"slug":"/20170830-linux修改DNS服务器设置/index2/"},"frontmatter":{"title":"New Beginnings"}},"next":null}}